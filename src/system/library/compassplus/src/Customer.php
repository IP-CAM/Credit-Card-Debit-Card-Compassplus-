<?php
 namespace Compassplus\Sdk; use Compassplus\Sdk\Customer\Address; use InvalidArgumentException; class Customer { public $firstName; public $lastName; public $middleName; public $phone; public $address; private $email; private $ip; private $sessionId; public function setAddress(Address $address) { $this->address = $address; } public function getSessionId() { return $this->sessionId; } public function setSessionId($sessionId) { $this->sessionId = $sessionId; } public function getPhone() { return $this->phone; } public function setPhone($phone) { if (!$this->validatePhone($phone)) { throw new InvalidArgumentException('Invalid phone number: ' . $phone); } $this->phone = $phone; } private function validatePhone($phone) { return preg_match('/^((\+7|7|8)+(\d){10})$/', $phone); } public function getEmail() { return $this->email; } public function setEmail($email) { if (!filter_var($email, FILTER_VALIDATE_EMAIL)) { throw new InvalidArgumentException('Invalid email address'); } $this->email = $email; } public function getIp() { return $this->ip; } public function setIp($ip) { if (!$this->validateIp($ip)) { throw new InvalidArgumentException('Invalid ip address'); } $this->ip = $ip; } private function validateIp($ip) { if (filter_var($ip, FILTER_VALIDATE_IP)) { return true; } return false; } } 