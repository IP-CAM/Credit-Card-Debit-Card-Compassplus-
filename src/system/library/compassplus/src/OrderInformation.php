<?php
 namespace Compassplus\Sdk; use Compassplus\Sdk\Operation\OperationType; use Compassplus\Sdk\Request\DataProviderStrategy; use Exception; class OrderInformation { private $operation; public function __construct(Order $order, Merchant $merchant, Customer $customer) { $this->operation = new Operation\Operation($order, $customer, $merchant); } public function perform() { $response = $this->send(OperationType::ORDER_INFORMATION); return new Response\OrderInformation($response); } private function send($operationType) { $data = $this->loadOrderInformation($operationType); $connector = new Connector($data); return $connector->sendRequest(); } private function loadOrderInformation($operationType) { $data = new DataProviderStrategy($operationType, $this->operation); return $data->getPayload(); } } 